System.register(["jimu-core","jimu-ui/advanced/setting-components","jimu-ui","jimu-ui/advanced/resource-selector","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker","jimu-for-builder","jimu-theme"],(function(e,t){var a={},n={},o={},i={},l={},r={},s={},u={};return{setters:[function(e){a.APP_FRAME_NAME_IN_BUILDER=e.APP_FRAME_NAME_IN_BUILDER,a.Immutable=e.Immutable,a.LayoutType=e.LayoutType,a.React=e.React,a.css=e.css,a.getAppStore=e.getAppStore,a.hooks=e.hooks,a.jsx=e.jsx,a.useIntl=e.useIntl},function(e){n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection},function(e){o.Label=e.Label,o.Radio=e.Radio,o.Select=e.Select,o.Switch=e.Switch,o.TextAlignValue=e.TextAlignValue,o.defaultMessages=e.defaultMessages},function(e){i.IconPicker=e.IconPicker},function(e){l.InputUnit=e.InputUnit,l.NavStyleSettingByState=e.NavStyleSettingByState,l.TextAlignment=e.TextAlignment},function(e){r.ThemeColorPicker=e.ThemeColorPicker},function(e){s.getAppConfigAction=e.getAppConfigAction},function(e){u.getNavigationVariables=e.getNavigationVariables,u.useTheme2=e.useTheme2}],execute:function(){e((()=>{var e={79244:e=>{"use strict";e.exports=a},4108:e=>{"use strict";e.exports=s},1888:e=>{"use strict";e.exports=u},14321:e=>{"use strict";e.exports=o},35809:e=>{"use strict";e.exports=i},79298:e=>{"use strict";e.exports=n},15562:e=>{"use strict";e.exports=l},54337:e=>{"use strict";e.exports=r}},t={};function c(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,c),o.exports}c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="";var d={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(d),c.d(d,{__set_webpack_public_path__:()=>S,default:()=>f});var e,t=c(79244),a=c(79298);!function(e){e.Icon="ICON",e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL"}(e||(e={}));var n,o=c(14321),i=c(35809),l=c(15562),r=c(54337),s=c(4108);!function(e){e[e.BringForward=0]="BringForward",e[e.SendBackward=1]="SendBackward",e[e.BringToFront=2]="BringToFront",e[e.SendToBack=3]="SendToBack"}(n||(n={}));var u,p;!function(e){e.Auto="auto",e[e.Normal=0]="Normal",e[e.BoundaryDropArea=10]="BoundaryDropArea",e[e.DragMoveTip=20]="DragMoveTip",e[e.HandlerTools=30]="HandlerTools",e[e.DraggingItem=40]="DraggingItem"}(u||(u={})),function(e){e.Auto="AUTO",e.Stretch="STRETCH",e.Custom="CUSTOM"}(p||(p={}));var g=c(1888);const{useMemo:v}=t.React,m=(e,a)=>{var n;const o=(0,g.getNavigationVariables)();let i=null===(n=null==o?void 0:o[e])||void 0===n?void 0:n[a];const l={item:{default:{icon:{size:"16px"},size:"14px"},active:{icon:{color:"pills"===a?"var(--white)":"var(--primary)",size:"16px"},size:"14px"},hover:{icon:{color:"var(--primary)",size:"16px"},size:"14px"}}};return"pills"===a&&Object.keys(l.item).forEach((e=>{l.item[e].borderRadius="6.25rem"})),i=i?(0,t.Immutable)(i).merge(l,{deep:!0}):l,"underline"===a&&Object.keys(i.item).forEach((e=>{var t,a;"none"===(null===(a=null===(t=i.item)||void 0===t?void 0:t[e])||void 0===a?void 0:a.borderRadius)&&(i=i.setIn(["item",e,"borderRadius"],"0px"))})),i},h=a=>{var n,o,i;let l;const r=(0,t.getAppStore)().getState();l=window.jimuConfig.isBuilder?null==r?void 0:r.appStateInBuilder:r;const u=null===(n=null==l?void 0:l.appRuntimeInfo)||void 0===n?void 0:n.selection,c=null===(o=l.appConfig.layouts)||void 0===o?void 0:o[null==u?void 0:u.layoutId],d=null===(i=null==c?void 0:c.content)||void 0===i?void 0:i[null==u?void 0:u.layoutItemId];if(c&&d&&(null==c?void 0:c.type)===t.LayoutType.FixedLayout){const n=a===e.Vertical,o=a===e.Horizontal,{width:i,height:l}=(t=>{switch(t){case e.Icon:return{width:50,height:50};case e.Vertical:return{width:300,height:300};default:return{width:300,height:50}}})(a),r=(e=>{var a;const n=document.querySelector(`iframe[name="${t.APP_FRAME_NAME_IN_BUILDER}"]`);if(n)return(null!==(a=n.contentDocument)&&void 0!==a?a:n.contentWindow.document).querySelector(e);return null})(`div.layout[data-layoutid=${u.layoutId}]`),{clientWidth:c=100,clientHeight:g=100}=r||{},v=100*i/c+"%",m=100*l/g+"%";(0,s.getAppConfigAction)().editLayoutItemProperty(u,"setting.autoProps",{width:o?p.Custom:p.Auto,height:n?p.Custom:p.Auto}).editLayoutItemProperty(u,"bbox",d.bbox.set("width",v).set("height",m)).exec()}},x={subMenuExpandMode:"Submenu expand mode",mainMenu:"Main menu",subMenu:"Submenu"},w=e=>{var t;return null===(t=null==e?void 0:e.components)||void 0===t?void 0:t.paper},b=t.css`
  .radio-container {
    display: flex;
    width: 100%;
    margin-top: 0.5rem;
    > span.jimu-radio {
      flex-shrink: 0;
      margin-top: 0.1rem;
    }
    > label {
      margin-bottom: 0;
    }
  }
`,f=n=>{var s,u,c,d;const p=t.hooks.useTranslation(x,o.defaultMessages),f=(0,g.useTheme2)(),{config:S,id:y,onSettingChange:j}=n,{vertical:I,type:A,menuStyle:R,variant:T,advanced:C,standard:M}=S,{anchor:k,textAlign:z,icon:N,submenuMode:B,gap:_,showIcon:P}=M||{},E=((e,t,a,n)=>v((()=>a?n:m(e,t)),[a,n,e,t]))("nav",R,C,T),H=C?null==S?void 0:S.paper:w(f),L="drawer"===A?e.Icon:I?e.Vertical:e.Horizontal,O=t.React.useMemo((()=>({svg:'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="css-1i7frhi jimu-icon"><path d="M2 1a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4zm0 7a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4zm0 7a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4z" fill="currentColor" fill-rule="nonzero"></path></svg>',properties:{color:"var(--dark-800)",size:20,inlineSvg:!0,filename:p("menu")}})),[p]),V=(0,t.useIntl)(),U=t.React.useMemo((()=>{var e;if(!(null===(e=null==N?void 0:N.properties)||void 0===e?void 0:e.filename))return;const t=N.properties.filename;return V.formatMessage({id:t,defaultMessage:x[t]||o.defaultMessages[t]||t})}),[null===(s=null==N?void 0:N.properties)||void 0===s?void 0:s.filename,V]),D=(e,t)=>{j({id:y,config:Array.isArray(e)?S.setIn(e,t):S.set(e,t)})};return(0,t.jsx)("div",{css:b,className:"widget-setting-menu jimu-widget-setting"},(0,t.jsx)(a.SettingSection,null,(0,t.jsx)(a.SettingRow,{label:p("type")},(0,t.jsx)(o.Select,{"aria-label":p("type"),size:"sm",value:L,onChange:a=>{const n=a.target.value,i=n===e.Icon?"drawer":"nav",l=n===e.Icon?"left":"",r=n!==e.Horizontal,s=r?"foldable":"dropdown",u={icon:n===e.Icon?(0,t.Immutable)(O):null,anchor:l,submenuMode:s,textAlign:o.TextAlignValue.CENTER,gap:"0px"},c=S.set("type",i).set("menuStyle","default").set("standard",u).set("advanced",!1).without("variant").without("paper").set("vertical",r);j({id:y,config:c}),h(n)},style:{width:"50%"}},(0,t.jsx)("option",{value:e.Icon},p("icon")),(0,t.jsx)("option",{value:e.Vertical},p("vertical")),(0,t.jsx)("option",{value:e.Horizontal},p("horizontal")))),"drawer"===A&&(0,t.jsx)(a.SettingRow,{label:p("location"),flow:"no-wrap"},(0,t.jsx)(o.Select,{"aria-label":p("location"),size:"sm",style:{width:"50%"},value:k,onChange:e=>{D(["standard","anchor"],e.target.value)}},(0,t.jsx)("option",{value:"left"},p("left")),(0,t.jsx)("option",{value:"right"},p("right")))),I&&(0,t.jsx)(a.SettingRow,{label:p("subMenuExpandMode"),flow:"wrap"},(0,t.jsx)(o.Select,{"aria-label":p("subMenuExpandMode"),size:"sm",value:B,onChange:e=>{D(["standard","submenuMode"],e.target.value)}},(0,t.jsx)("option",{value:"foldable"},p("foldable")),(0,t.jsx)("option",{value:"static"},p("expand")))),"drawer"===A&&(0,t.jsx)(t.React.Fragment,null,(0,t.jsx)(a.SettingRow,{label:p("icon"),flow:"no-wrap",role:"group","aria-label":p("icon")},(0,t.jsx)(i.IconPicker,{hideRemove:!0,icon:N,customIcons:[O],customLabel:U,previewOptions:{color:!0,size:!1},onChange:e=>{D(["standard","icon"],e)},setButtonUseColor:!1})),(0,t.jsx)(a.SettingRow,{label:p("iconSize"),flow:"no-wrap"},(0,t.jsx)(l.InputUnit,{"aria-label":p("iconSize"),size:"sm",className:"w-50",value:`${null!==(c=null===(u=null==N?void 0:N.properties)||void 0===u?void 0:u.size)&&void 0!==c?c:0}px`,onChange:e=>{D(["standard","icon","properties","size"],e.distance)}})))),(0,t.jsx)(a.SettingSection,{title:p("appearance"),role:"group","aria-label":p("appearance")},(0,t.jsx)(a.SettingRow,{label:p("style"),flow:"wrap",role:"radiogroup","aria-label":p("style")},[{label:p("default"),value:"default"},{label:p("underline"),value:"underline"},{label:p("pills"),value:"pills"}].map(((e,a)=>(0,t.jsx)("div",{className:"radio-container",key:a},(0,t.jsx)(o.Radio,{id:"nav-style-type"+a,style:{cursor:"pointer"},name:"style-type",onChange:t=>{((e,t)=>{if(!e.currentTarget.checked)return;let a=S.set("menuStyle",t).set("advanced",!1).set("variant",null);j({id:y,config:a})})(t,e.value)},checked:R===e.value}),(0,t.jsx)(o.Label,{style:{cursor:"pointer"},for:"nav-style-type"+a,className:"ml-2 text-break"},e.label))))),(0,t.jsx)(a.SettingRow,{label:p("space"),flow:"no-wrap"},(0,t.jsx)(l.InputUnit,{"aria-label":p("space"),size:"sm",className:"w-50",value:_,onChange:e=>{D(["standard","gap"],`${e.distance}${e.unit}`)}})),(0,t.jsx)(a.SettingRow,{flow:"no-wrap",label:p("alignment")},(0,t.jsx)(l.TextAlignment,{"aria-label":p("alignment"),textAlign:z,onChange:e=>{D(["standard","textAlign"],e)}})),(0,t.jsx)(a.SettingRow,{flow:"no-wrap",label:p("showIcon")},(0,t.jsx)(o.Switch,{"aria-label":p("showIcon"),checked:P,onChange:(e,t)=>{D(["standard","showIcon"],t)}}))),(0,t.jsx)(a.SettingSection,null,(0,t.jsx)(a.SettingRow,{flow:"no-wrap",label:p("advance")},(0,t.jsx)(o.Switch,{checked:C,onChange:()=>{const e=!(null==S?void 0:S.advanced);let t=S.set("advanced",e);if(e){const e=m("nav",R),a=w(f);t=t.set("variant",e).set("paper",a)}else t=t.without("variant").without("paper");j({id:y,config:t})},"aria-label":p("advance")})),C&&(0,t.jsx)(t.React.Fragment,null,"drawer"!==A&&(0,t.jsx)(a.SettingRow,{label:p("background"),flow:"no-wrap"},(0,t.jsx)(r.ThemeColorPicker,{"aria-label":p("background"),specificTheme:f,value:null===(d=null==E?void 0:E.root)||void 0===d?void 0:d.bg,onChange:e=>{D(["variant","root","bg"],e)}})),"drawer"===A&&(0,t.jsx)(a.SettingRow,{label:p("background"),flow:"no-wrap"},(0,t.jsx)(r.ThemeColorPicker,{"aria-label":p("background"),specificTheme:f,value:null==H?void 0:H.bg,onChange:e=>{D(["paper","bg"],e)}})),(0,t.jsx)(l.NavStyleSettingByState,{variant:E,onlyBorderColor:"underline"===R,text:!0,icon:!1,iconInText:P,onChange:(e,t,a)=>{D(["variant","item",e,t],a)}}))))};function S(e){c.p=e}})(),d})())}}}));